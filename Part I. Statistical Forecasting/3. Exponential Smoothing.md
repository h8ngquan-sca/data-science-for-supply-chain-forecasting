---
Area: "[[DATA ANALYTICS]]"
Subject: "[[00. TOC_Data Science for Supply Chain Forecasting]]"
Tags:
  - book
  - data_analytics
---
# 3.1. Giới thiệu tổng quan
**Giới thiệu:** 
Mô hình San bằng hàm mũ - Exponential Smoothing (ES) có cùng giả định giống với mô hình Trung bình động (Moving Average) là nhu cầu tương lai sẽ tương tự như nhu cầu của quá khứ gần. Điểm khác biệt là mô hình Exponential Smoothing (ES) có khả năng học được **"mức độ (level)** từ nhu cầu quá khứ
Sau đó, mô hình sẽ dự báo nhu cầu tương lai bằng giá trị "mức độ (Level)" cuối cùng vừa ước lượng được

**Mức độ (Level) là gì?** 
Là giá trị trung bình biến động xung quanh nhu cầu theo thời gian
![[Pasted image 20260220134735.png]]

**So sánh:** So với mô hình dự báo ngây thơ (Naïve) hoặc Trung bình động (Moving Average), mô hình San bằng hàm mũ đơn giản có 2 ưu điểm vượt trội sau:
1. **Trọng số giảm dần theo hàm mũ:** Nhằm đưa ra dự báo, mô hình sẽ gán mức độ quan trọng (trọng số) cao nhất cho dữ liệu ở quá khứ gần nhất, và dữ liệu càng cũ thì tầm quan trọng càng giảm dần. Cách tiếp cận này hiệu quả hơn so với mô hình Trung bình động, vốn gán trọng số hoàn toàn ngang bằng nhau cho tất cả các kỳ trong lịch sử.
2. **Ít bị ảnh hưởng bởi nhiễu (noise) và giá trị ngoại lai (outliers):** Quá trình làm mượt giúp mô hình tránh được việc phản ứng thái quá với các biến động bất thường so với mô hình dự báo ngây thơ.

# 3.2. Mô hình Exponential Smoothing
**Ý tưởng cốt lỗi** của mô hình là ở mỗi kỳ (t), mô hình **học một chút** từ nhu cầu thực tế vừa quan sát được (learn a bit from the most recent demand observation), đồng thời ghi **nhớ một chút** từ chính dự báo trước đó của nó (remember a bit of the last forecast).
Tham số làm mượt (smoothing parameter) hay mức độ học tập (learning rate) được gọi là ***alpha (α)***, sẽ quyết định mức độ quan trọng mà mô hình dành cho quan sát gần nhất.

**Công thức:**

$$f_t = αd_{t-1} + (1-α)f_{t-1}$$
$$0 \le a \le 1$$
Trong đó:

| Thành phần | Ý nghĩa                                                                                                                                                                                                                                             |
| ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| α          | Là tỷ lệ (hay phần trăm) quyết định mức độ quan trọng mà mô hình dành cho quan sát gần nhất so với toàn bộ lịch sử. Nó đóng vai trò là "tốc độ học": α cao giúp mô hình nhạy bén nhưng dễ bị nhiễu, α thấp giúp mô hình ổn định nhưng phản ứng chậm |
| αdt−1      | Đại diện cho mức độ mô hình "học" từ nhu cầu thực tế vừa xảy ra ở kỳ ngay trước đó                                                                                                                                                                  |
| (1−α)ft−1​ | Đại diện cho mức độ mô hình "ghi nhớ" từ dự báo của kỳ trước                                                                                                                                                                                        |

**Dự báo tương lai (Future forecast)**
Khi cần dự báo cho các kỳ trong tương lai nhưng không còn dữ liệu lịch sử thực tế, mô hình chỉ đơn giản lấy giá trị dự báo cuối cùng vừa tính được và ngoại suy kéo dài ra. Do đó, dự báo tương lai của mô hình này sẽ luôn là một đường đi ngang thẳng tắp

**Khởi tạo mô hình (Model inititalization)**
Có 2 hướng tiếp cận để khởi tạo dự báo đầu tiên cho mô hình San bằng hàm mũ:

| Phương pháp                                   | Ý nghĩa                                                                                            | Đánh giá                                                                                                                              |
| --------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| **Khởi tạo đơn giản (Simple initialization)** | Khởi tạo dự báo đầu tiên bằng chính nhu cầu thực tế của kỳ đầu tiên: <br>$$f_0​=d_0$$​             | Đây là một cách tiếp cận đơn giản và công bằng nhất                                                                                   |
| **Trung bình (Average)**                      | Khởi tạo bằng trung bình cộng của n kỳ nhu cầu đầu tiên: <br>$$f_0​=\frac{1}{n}\sum_{t=0}^{n}d_t$$ | Nên thử nghiệm các giá trị n nhỏ (từ 3 đến 5) hoặc đặt n bằng nghịch đảo của hệ số học tập (1/α) để giúp mô hình khởi tạo mượt mà hơn |
**Lưu ý về Rò rỉ dữ liệu (Data Leakage)**:
- Khái niệm: là hiện tượng xảy ra khi vô tình cấp cho mô hình thông tin của tương lai để tính toán giá trị khởi tạo (ví dụ: lấy trung bình của 5 kỳ tiếp theo). 
- Kết quả: dẫn đến hiện tượng **"quá khớp" (overfitting)**. Mô hình trông sẽ có vẻ rất chính xác trên dữ liệu lịch sử, nhưng lại hoàn toàn vô dụng khi dự báo thực tế. Cần tuyệt đối tránh.
# 3.3. Đánh giá và Kết luận
**Đánh đổi giữa học (learning) và ghi nhớ (remembering) trong mô hình San bằng hàm mũ:**

| alpha      | Ý nghĩa                                                                                                                                                                                                                                                           |
| ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| α **cao)** | **Học nhanh (Learning)**, mô hình dồn trọng số lớn cho quan sát nhu cầu mới nhất, giúp nó phản ứng rất nhanh với sự thay đổi của nhu cầu. Tuy nhiên, rủi ro là mô hình sẽ trở nên nhạy cảm, dễ bị ảnh hưởng bởi nhiễu (noise) và các giá trị ngoại lai (outliers) |
| α **thấp** | **Ghi nhớ tốt (Remembering)**, mô hình ưu tiên giữ lại dự báo từ quá khứ, giúp kết quả ổn định và không bị phản ứng thái quá với các biến động ngẫu nhiên. Bù lại, nó sẽ chậm nhận diện khi nhu cầu thực sự thay đổi mức độ (level).                              |
**Tác động của alpha (α):**
- α **thấp (ví dụ: 0.1):** Mô hình cần nhiều thời gian hơn để phản ứng với sự thay đổi của nhu cầu.
- α **cao (ví dụ: 0.8):** Mô hình bám rất sát các biến động của nhu cầu.
- Nếu α=1, nó sẽ biến thành mô hình Naïve Forecast.
![[Pasted image 20260220144924.png]]
==***Ghi chú:** khoảng lý tưởng thường từ **0.05 đến 0.5**. Nếu α>0.5, mô hình gần như bỏ qua dữ liệu lịch sử và chỉ dựa vào dữ liệu mới nhất, báo hiệu mô hình có thể đang gặp vấn đề*==
**Nhược điểm của mô hình**
1. Không dự báo được **xu hướng (Trend)**.
2. Không nhận diện được **tính mùa vụ (Seasonality)**
3. Không thể trực tiếp sử dụng các **biến số bên ngoài (external variables)** như chiến dịch marketing hay thay đổi giá cả.
**Kết luận**
Trong thực tế, mô hình này thường quá đơn giản để mang lại kết quả dự báo đủ tốt. Tuy nhiên, nó đóng vai trò là **viên gạch nền tảng** để chúng ta tiếp tục xây dựng các mô hình phức tạp và mạnh mẽ hơn ở các chương sau